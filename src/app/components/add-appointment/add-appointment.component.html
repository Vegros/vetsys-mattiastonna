<div class="container mt-5">
  <div class="card shadow rounded-4">
    <div class="card-header bg-primary text-white fw-semibold fs-5">
      Add Appointment
    </div>

    <div class="card-body p-4">
      <form novalidate [formGroup]="appointmentForm" (ngSubmit)="submitForm()">
        <fieldset>
          <div class="row g-3">

            <div class="col-md-6">
              <label for="animalType" class="form-label">Animal Type</label>
              <select class="form-select" id="animalType" formControlName="animalType">
                <option value="" disabled selected>Select an animal type</option>
                <option value="Dog">Dog</option>
                <option value="Cat">Cat</option>
                <option value="Rabbit">Rabbit</option>
                <option value="Bird">Bird</option>
                <option value="Reptile">Reptile</option>
              </select>
              @if (shouldProcessControlValidationMessages("animalType")) {
                <div class="text-danger small mt-1">
                  @if (appointmentForm.get("animalType")!.hasError("required")) {
                    Animal Type is required!
                  }
                </div>
              }
            </div>

            <div class="col-md-6">
              <label for="appointmentDateTime" class="form-label">Appointment Date and Time</label>
              <input type="datetime-local" class="form-control" id="appointmentDateTime" formControlName="appointmentDateTime">
              @if (shouldProcessControlValidationMessages("appointmentDateTime")) {
                <div class="text-danger small mt-1">
                  @if (appointmentForm.get("appointmentDateTime")!.hasError("required")) {
                    Appointment Date is required!
                  }
                  @else if(appointmentForm.get("appointmentDateTime")!.hasError("invalidDate")) {
                    Date is in the past
                  }
                </div>
              }
            </div>


            <div class="col-md-6">
              <label for="appointmentDuration" class="form-label">Appointment Duration</label>
              <select class="form-select" id="appointmentDuration" formControlName="appointmentDuration">
                <option value="" disabled selected>Select duration</option>
                <option value="10">10 minutes</option>
                <option value="15">15 minutes</option>
                <option value="30">30 minutes</option>
              </select>
              @if (shouldProcessControlValidationMessages("appointmentDuration")) {
                <div class="text-danger small mt-1">
                  @if (appointmentForm.get("appointmentDuration")!.hasError("required")) {
                    Appointment Duration is required!
                  }
                </div>
              }
            </div>


            <div class="col-md-6">
              <label for="ownerName" class="form-label">Owner Name</label>
              <input type="text" class="form-control" id="ownerName" formControlName="ownerName" placeholder="Enter owner name">
              @if (shouldProcessControlValidationMessages("ownerName")) {
                <div class="text-danger small mt-1">
                  @if (appointmentForm.get("ownerName")!.hasError("required")) {
                    Owner Name is required!
                  }
                </div>
              }
            </div>

            <div class="col-md-6">
              <label for="ownerSurname" class="form-label">Owner Surname</label>
              <input type="text" class="form-control" id="ownerSurname" formControlName="ownerSurname" placeholder="Enter owner surname">
              @if (shouldProcessControlValidationMessages("ownerSurname")) {
                <div class="text-danger small mt-1">
                  @if (appointmentForm.get("ownerSurname")!.hasError("required")) {
                    Owner Surname is required!
                  }
                </div>
              }
            </div>

            <div class="col-md-6">
              <label for="ownerContactNumber" class="form-label">Contact Number</label>
              <input type="text" class="form-control" id="ownerContactNumber" formControlName="ownerContactNumber" placeholder="Enter contact number">
              @if (shouldProcessControlValidationMessages("ownerContactNumber")) {
                <div class="text-danger small mt-1">
                  @if (appointmentForm.get("ownerContactNumber")!.hasError("required")) {
                    Contact Number is required!
                  }
                  @else if(appointmentForm.get("ownerContactNumber")!.hasError("invalidContactNumber")) {
                    Contact Number is not correct format
                  }
                </div>
              }
            </div>

            <div class="col-md-6">
              <label for="ownerIdCardNumber" class="form-label">Owner ID Card Number</label>
              <input type="text" class="form-control" id="ownerIdCardNumber" formControlName="ownerIdCardNumber" placeholder="Enter ID card number">
              @if (shouldProcessControlValidationMessages("ownerIdCardNumber")) {
                <div class="text-danger small mt-1">
                  @if (appointmentForm.get("ownerIdCardNumber")!.hasError("required")) {
                    ID Card Number is required!
                  }
                  @else if(appointmentForm.get("ownerIdCardNumber")!.hasError("invalidIdCard")) {
                    ID Card Number is not correct format
                  }
                </div>
              }
            </div>

            <div class="col-md-6">
              <label for="patientName" class="form-label">Patient Name</label>
              <input type="text" class="form-control" id="patientName" formControlName="patientName" placeholder="Enter patient name">
              @if (shouldProcessControlValidationMessages("patientName")) {
                <div class="text-danger small mt-1">
                  @if (appointmentForm.get("patientName")!.hasError("required")) {
                    Patient Name is required!
                  }
                </div>
              }
            </div>

            <div class="col-md-6">
              <label for="reasonForAppointment" class="form-label">Reason for Appointment</label>
              <input type="text" class="form-control" id="reasonForAppointment" formControlName="reasonForAppointment" placeholder="Enter reason">
              @if (shouldProcessControlValidationMessages("reasonForAppointment")) {
                <div class="text-danger small mt-1">
                  @if (appointmentForm.get("reasonForAppointment")!.hasError("required")) {
                    Reason is required!
                  }
                </div>
              }
            </div>

            <div class="col-12">
              <label for="vetNotes" class="form-label">Vet Notes</label>
              <input type="text" class="form-control" id="vetNotes" formControlName="vetNotes" placeholder="Enter vet notes">
              @if (shouldProcessControlValidationMessages("vetNotes")) {
                <div class="text-danger small mt-1">
                  @if (appointmentForm.get("vetNotes")!.hasError("required")) {
                    Vet Notes are required!
                  }
                </div>
              }
            </div>
          </div>
        </fieldset>

        <div class="d-flex justify-content-end mt-4">
          <button type="submit" class="btn btn-primary px-4" [disabled]="!appointmentForm.valid">Submit</button>
        </div>
      </form>
    </div>
  </div>
</div>
